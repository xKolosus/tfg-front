<div class="content" *ngIf="user">
  <form class="text-center" [formGroup]="profileData" (ngSubmit)="onSubmit()">
    <div class="container rounded bg-white mt-5 mb-5">
      <div class="row">
        <div class="col-md-3 border-right">
          <div
            class="d-flex flex-column align-items-center text-center p-3 py-5"
          >
            <img class="rounded mt-5"  src="{{ user.profilePicUrl }}" /><span
              class="font-weight-bold"
              >{{ user.name }}</span
            ><span class="text-black-50">{{ user.email }}</span
            ><span>Cantidad de posts: {{postsByUser}}</span>
          </div>
        </div>
        <div class="col-md-5 border-right">
          <div class="p-3 py-5">
            <div class="d-flex justify-content-between align-items-center mb-3">
              <h4 class="text-right">Tu perfil</h4>
            </div>
            <div class="row mt-2">
              <div class="col-md-6">
                <label class="labels">Nombre</label
                ><input
                  type="text"
                  formControlName="userName"
                  class="form-control"
                  placeholder="Nombre"
                  value="{{ user.name }}"
                />
              </div>
              <div class="col-md-6">
                <label class="labels">Apellidos</label
                ><input
                  type="text"
                  formControlName="userSurname"
                  class="form-control"
                  value="{{ user.surname }}"
                  placeholder="Apellidos"
                />
              </div>
            </div>
            <div class="row mt-3">
              <div class="col-md-12">
                <label class="labels">Correo</label
                ><input
                  type="text"
                  formControlName="userEmail"
                  class="form-control"
                  placeholder="Correo electrónico"
                  value="{{ user.email }}"
                />
              </div>
            </div>
            <div class="mt-5 text-center">
              <button class="btn btn-primary profile-button" type="submit">
                Guardar cambios
              </button>
              <button class="btn btn-danger profile-button ml-2" type="button" (click)="basicModal.show()">
                Borrar usuario
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>

<div mdbModal #basicModal="mdbModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myBasicModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-sm" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close pull-right" aria-label="Close" (click)="basicModal.hide()">
          <span aria-hidden="true">×</span>
        </button>
        <h4 class="modal-title w-100" id="myModalLabel">¿Estas seguro?</h4>
      </div>
      <div class="modal-body">
        Esta opción eliminará tu usuario <br>
        y todos sus artículos y posts.
      </div>
      <div class="modal-footer">
        <button type="button" mdbBtn color="secondary" class="waves-light" aria-label="Close" (click)="basicModal.hide()" mdbWavesEffect>No</button>
        <button type="button" mdbBtn color="primary" class="relative waves-light" mdbWavesEffect (click)="deleteUser()">Si</button>
      </div>
    </div>
  </div>
</div>
